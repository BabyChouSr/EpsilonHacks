{% extends "layout.html" %}
{%block complete%}
<script async defer src="http://maps.googleapis.com/maps/api/js?key=AIzaSyBp02CU-o7IfG-9b7Nylfz18mq279AFEKE&libraries=places"></script>
<script src="{{url_for('static', filename = 'jquery.geocomplete.js')}}"></script>
{% endblock complete%}
{%block js%}
$(function(){
$("#userAddress").geocomplete()
});
{% endblock js%}
{%block content%}
    <div class = 'content-section'>
        <form method = 'POST' action = '' >
            {{form.hidden_tag()}}
            <fieldset class = 'form-group'>
                <h3>Join Today</h3>
                <hr>
                <div class = "form-group">
                    <h4>What Type of User Are You?</h4>
                    {{form.user.label(class = "form-control-label")}}

                    {% if form.user.errors %}
                        {{form.user(class = "form-control form-control-lg is-invalid")}}
                        <div class = "invalid-feedback">
                            {%for error in form.user.errors%}
                            <span>
                                {{error}}
                            </span>
                            {%endfor%}
                        </div>
                    {%else%}
                        {{form.user(class = "btn btn-primary")}}
                    {%endif%}
                    {{form.restaurant.label(class = "form-control-label")}}

                    {% if form.restaurant.errors %}
                        {{form.restaurant(class = "form-control form-control-lg is-invalid")}}
                        <div class = "invalid-feedback">
                            {%for error in form.restaurant.errors%}
                            <span>
                                {{error}}
                            </span>
                            {%endfor%}
                        </div>
                    {%else%}
                        {{form.restaurant(class = "btn btn-primary")}}
                    {%endif%}
                </div>
                <div class = "row">
                <div class = "form-group col-md-6">
                    {{form.username.label(class = "form-control-label")}}

                    {% if form.username.errors %}
                        {{form.username(class = "form-control form-control-lg is-invalid")}}
                        <div class = "invalid-feedback">
                            {%for error in form.username.errors%}
                            <span>
                                {{error}}
                            </span>
                            {%endfor%}
                        </div>
                    {%else%}
                        {{form.username(class = "form-control form-control-lg")}}
                    {%endif%}
                </div>
                <div class = "form-group col-md-6">
                    {{form.email.label(class = 'form-control-label')}}
                    {% if form.email.errors %}
                        {{form.email(class = "form-control form-control-lg is-invalid")}}
                        <div class = "invalid-feedback">
                            {%for error in form.email.errors%}
                            <span>
                                {{error}}
                            </span>
                            {%endfor%}
                        </div>
                    {%else%}
                        {{form.email(class = "form-control form-control-lg")}}
                    {%endif%}
                </div>
                    </div>
                <div class = "form-group">
                    {{form.password.label(class = 'form-control-label')}}
                    {% if form.password.errors %}
                        {{form.password(class = "form-control form-control-lg is-invalid")}}
                        <div class = "invalid-feedback">
                            {%for error in form.password.errors%}
                            <span>
                                {{error}}
                            </span>
                            {%endfor%}
                        </div>
                    {%else%}
                        {{form.password(class = "form-control form-control-lg")}}
                    {%endif%}
                </div>
                <div class = "form-group">
                    {{form.confirm_password.label(class = 'form-control-label')}}
                    {% if form.confirm_password.errors %}
                        {{form.confirm_password(class = "form-control form-control-lg is-invalid")}}
                        <div class = "invalid-feedback">
                            {%for error in form.confirm_password.errors%}
                            <span>
                                {{error}}
                            </span>
                            {%endfor%}
                        </div>
                    {%else%}
                        {{form.confirm_password(class = "form-control form-control-lg")}}
                    {%endif%}
                </div>
                <div class = "form-group" id = "inputMap">
                    {{form.userAddress.label(class = 'form-control-label')}}
                    {% if form.userAddress.errors %}
                        {{form.userAddress(class = "form-control form-control-lg is-invalid")}}
                        <div class = "invalid-feedback">
                            {%for error in form.userAddress.errors%}
                            <span>
                                {{error}}
                            </span>
                            {%endfor%}
                        </div>
                    {%else%}
                        {{form.userAddress(class = "form-control form-control-lg")}}
                    {%endif%}
                </div>
            </fieldset>
                <div class = "form-group">
                    {{ form.submit(class = 'btn btn-outline-info') }}
                </div>
        </form>
    </div>
    <div class = 'border-top pt-3'>
        <small class = 'text-muted'>
            Already Have an Account?  <a class = 'ml-2' href = '{{ url_for("login") }}'>Sign in </a>
        </small>
    </div>
{% endblock content%}
